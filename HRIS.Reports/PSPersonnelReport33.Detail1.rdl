<?xml version="1.0" encoding="utf-8"?>
<Report xmlns="http://schemas.microsoft.com/sqlserver/reporting/2008/01/reportdefinition" xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">
  <Body>
    <ReportItems>
      <Tablix Name="Tablix1">
        <TablixBody>
          <TablixColumns>
            <TablixColumn>
              <Width>5.83333cm</Width>
            </TablixColumn>
            <TablixColumn>
              <Width>5.83333cm</Width>
            </TablixColumn>
            <TablixColumn>
              <Width>5.83333cm</Width>
            </TablixColumn>
            <TablixColumn>
              <Width>5.83333cm</Width>
            </TablixColumn>
            <TablixColumn>
              <Width>5.83333cm</Width>
            </TablixColumn>
            <TablixColumn>
              <Width>5.83333cm</Width>
            </TablixColumn>
          </TablixColumns>
          <TablixRows>
            <TablixRow>
              <Height>0.6cm</Height>
              <TablixCells>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox11">
                      <CanGrow>true</CanGrow>
                      <KeepTogether>true</KeepTogether>
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>صيغة القيمة الاضافية</Value>
                              <Style>
                                <FontWeight>Bold</FontWeight>
                              </Style>
                            </TextRun>
                          </TextRuns>
                          <Style>
                            <TextAlign>Center</TextAlign>
                          </Style>
                        </Paragraph>
                      </Paragraphs>
                      <rd:DefaultName>Textbox11</rd:DefaultName>
                      <Style>
                        <Border>
                          <Color>LightGrey</Color>
                          <Style>Solid</Style>
                        </Border>
                        <BackgroundColor>LightGrey</BackgroundColor>
                        <PaddingLeft>2pt</PaddingLeft>
                        <PaddingRight>2pt</PaddingRight>
                        <PaddingTop>2pt</PaddingTop>
                        <PaddingBottom>2pt</PaddingBottom>
                        <Direction>RTL</Direction>
                      </Style>
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox9">
                      <CanGrow>true</CanGrow>
                      <KeepTogether>true</KeepTogether>
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>القيمة الاضافية</Value>
                              <Style>
                                <FontWeight>Bold</FontWeight>
                              </Style>
                            </TextRun>
                          </TextRuns>
                          <Style>
                            <TextAlign>Center</TextAlign>
                          </Style>
                        </Paragraph>
                      </Paragraphs>
                      <rd:DefaultName>Textbox9</rd:DefaultName>
                      <Style>
                        <Border>
                          <Color>LightGrey</Color>
                          <Style>Solid</Style>
                        </Border>
                        <BackgroundColor>LightGrey</BackgroundColor>
                        <PaddingLeft>2pt</PaddingLeft>
                        <PaddingRight>2pt</PaddingRight>
                        <PaddingTop>2pt</PaddingTop>
                        <PaddingBottom>2pt</PaddingBottom>
                        <Direction>RTL</Direction>
                      </Style>
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox6">
                      <CanGrow>true</CanGrow>
                      <KeepTogether>true</KeepTogether>
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>صيغة التعويض</Value>
                              <Style>
                                <FontWeight>Bold</FontWeight>
                              </Style>
                            </TextRun>
                          </TextRuns>
                          <Style>
                            <TextAlign>Center</TextAlign>
                          </Style>
                        </Paragraph>
                      </Paragraphs>
                      <rd:DefaultName>Textbox6</rd:DefaultName>
                      <Style>
                        <Border>
                          <Color>LightGrey</Color>
                          <Style>Solid</Style>
                        </Border>
                        <BackgroundColor>LightGrey</BackgroundColor>
                        <PaddingLeft>2pt</PaddingLeft>
                        <PaddingRight>2pt</PaddingRight>
                        <PaddingTop>2pt</PaddingTop>
                        <PaddingBottom>2pt</PaddingBottom>
                        <Direction>RTL</Direction>
                      </Style>
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox4">
                      <CanGrow>true</CanGrow>
                      <KeepTogether>true</KeepTogether>
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>قيمة التعويض</Value>
                              <Style>
                                <FontWeight>Bold</FontWeight>
                              </Style>
                            </TextRun>
                          </TextRuns>
                          <Style>
                            <TextAlign>Center</TextAlign>
                          </Style>
                        </Paragraph>
                      </Paragraphs>
                      <rd:DefaultName>Textbox4</rd:DefaultName>
                      <Style>
                        <Border>
                          <Color>LightGrey</Color>
                          <Style>Solid</Style>
                        </Border>
                        <BackgroundColor>LightGrey</BackgroundColor>
                        <PaddingLeft>2pt</PaddingLeft>
                        <PaddingRight>2pt</PaddingRight>
                        <PaddingTop>2pt</PaddingTop>
                        <PaddingBottom>2pt</PaddingBottom>
                        <Direction>RTL</Direction>
                      </Style>
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox1">
                      <CanGrow>true</CanGrow>
                      <KeepTogether>true</KeepTogether>
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>اسم التعويض</Value>
                              <Style>
                                <FontWeight>Bold</FontWeight>
                              </Style>
                            </TextRun>
                          </TextRuns>
                          <Style>
                            <TextAlign>Center</TextAlign>
                          </Style>
                        </Paragraph>
                      </Paragraphs>
                      <rd:DefaultName>Textbox1</rd:DefaultName>
                      <Style>
                        <Border>
                          <Color>LightGrey</Color>
                          <Style>Solid</Style>
                        </Border>
                        <BackgroundColor>LightGrey</BackgroundColor>
                        <PaddingLeft>2pt</PaddingLeft>
                        <PaddingRight>2pt</PaddingRight>
                        <PaddingTop>2pt</PaddingTop>
                        <PaddingBottom>2pt</PaddingBottom>
                        <Direction>RTL</Direction>
                      </Style>
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Textbox3">
                      <CanGrow>true</CanGrow>
                      <KeepTogether>true</KeepTogether>
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>مصدر التعويض</Value>
                              <Style>
                                <FontWeight>Bold</FontWeight>
                              </Style>
                            </TextRun>
                          </TextRuns>
                          <Style>
                            <TextAlign>Center</TextAlign>
                          </Style>
                        </Paragraph>
                      </Paragraphs>
                      <rd:DefaultName>Textbox3</rd:DefaultName>
                      <Style>
                        <Border>
                          <Color>LightGrey</Color>
                          <Style>Solid</Style>
                        </Border>
                        <BackgroundColor>LightGrey</BackgroundColor>
                        <PaddingLeft>2pt</PaddingLeft>
                        <PaddingRight>2pt</PaddingRight>
                        <PaddingTop>2pt</PaddingTop>
                        <PaddingBottom>2pt</PaddingBottom>
                        <Direction>RTL</Direction>
                      </Style>
                    </Textbox>
                  </CellContents>
                </TablixCell>
              </TablixCells>
            </TablixRow>
            <TablixRow>
              <Height>0.6cm</Height>
              <TablixCells>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="ExtraValueFormula">
                      <CanGrow>true</CanGrow>
                      <KeepTogether>true</KeepTogether>
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>=SWITCH(Fields!ExtraValueFormula.Value = 0, "غير محدد",
Fields!ExtraValueFormula.Value = 1, "ضرب بقيمة النهائية",
Fields!ExtraValueFormula.Value = 2, "نسبة من قيمة النهائية",
Fields!ExtraValueFormula.Value = 3, "ضرب بقيمة الاولية",
Fields!ExtraValueFormula.Value = 4, "نسبة من قيمة الاولية"

)</Value>
                              <Style />
                            </TextRun>
                          </TextRuns>
                          <Style>
                            <TextAlign>Right</TextAlign>
                          </Style>
                        </Paragraph>
                      </Paragraphs>
                      <rd:DefaultName>ExtraValueFormula</rd:DefaultName>
                      <Style>
                        <Border>
                          <Color>LightGrey</Color>
                          <Style>Solid</Style>
                        </Border>
                        <PaddingLeft>2pt</PaddingLeft>
                        <PaddingRight>2pt</PaddingRight>
                        <PaddingTop>2pt</PaddingTop>
                        <PaddingBottom>2pt</PaddingBottom>
                        <Direction>RTL</Direction>
                      </Style>
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="ExtraValue">
                      <CanGrow>true</CanGrow>
                      <KeepTogether>true</KeepTogether>
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>=Fields!ExtraValue.Value</Value>
                              <Style />
                            </TextRun>
                          </TextRuns>
                          <Style>
                            <TextAlign>Right</TextAlign>
                          </Style>
                        </Paragraph>
                      </Paragraphs>
                      <rd:DefaultName>ExtraValue</rd:DefaultName>
                      <Style>
                        <Border>
                          <Color>LightGrey</Color>
                          <Style>Solid</Style>
                        </Border>
                        <PaddingLeft>2pt</PaddingLeft>
                        <PaddingRight>2pt</PaddingRight>
                        <PaddingTop>2pt</PaddingTop>
                        <PaddingBottom>2pt</PaddingBottom>
                        <Direction>RTL</Direction>
                      </Style>
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Formula">
                      <CanGrow>true</CanGrow>
                      <KeepTogether>true</KeepTogether>
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>=SWITCH(Fields!Formula.Value = 0, "قيمة ثابتة",
Fields!Formula.Value = 1, "نسبة من المقطوع",
Fields!Formula.Value = 2, "نسبة من الراتب التأميني",
Fields!Formula.Value = 3, "نسبة من الراتب الاحتياطي1",
Fields!Formula.Value = 4, "نسبة من الراتب الاحتياطي2",
Fields!Formula.Value = 5, "نسبة من الراتب الاحتياطي3",
Fields!Formula.Value = 6, "نسبة من سقف الفئة",
Fields!Formula.Value = 7, "أيام من المقطوع",
Fields!Formula.Value = 8, "أيام من الراتب التأميني",
Fields!Formula.Value = 9, "أيام من الراتب الاحتياطي1",
Fields!Formula.Value = 10, "أيام من الراتب الاحتياطي2",
Fields!Formula.Value = 11, "أيام من الراتب الاحتياطي3",
Fields!Formula.Value = 12, "أيام من سقف الفئة",
Fields!Formula.Value = 13, "ساعات من المقطوع",
Fields!Formula.Value = 14, "ساعات من الراتب التأميني",
Fields!Formula.Value = 15, "ساعات من الراتب الاحتياطي1",
Fields!Formula.Value = 16, "ساعات من الراتب الاحتياطي2",
Fields!Formula.Value = 17, "ساعات من الراتب الاحتياطي3",
Fields!Formula.Value = 18, "ساعات من سقف الفئة",
Fields!Formula.Value = 19, "لايوجد"
)</Value>
                              <Style />
                            </TextRun>
                          </TextRuns>
                          <Style>
                            <TextAlign>Right</TextAlign>
                          </Style>
                        </Paragraph>
                      </Paragraphs>
                      <rd:DefaultName>Formula</rd:DefaultName>
                      <Style>
                        <Border>
                          <Color>LightGrey</Color>
                          <Style>Solid</Style>
                        </Border>
                        <PaddingLeft>2pt</PaddingLeft>
                        <PaddingRight>2pt</PaddingRight>
                        <PaddingTop>2pt</PaddingTop>
                        <PaddingBottom>2pt</PaddingBottom>
                        <Direction>RTL</Direction>
                      </Style>
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="Value">
                      <CanGrow>true</CanGrow>
                      <KeepTogether>true</KeepTogether>
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>=Fields!Value.Value</Value>
                              <Style />
                            </TextRun>
                          </TextRuns>
                          <Style>
                            <TextAlign>Right</TextAlign>
                          </Style>
                        </Paragraph>
                      </Paragraphs>
                      <rd:DefaultName>Value</rd:DefaultName>
                      <Style>
                        <Border>
                          <Color>LightGrey</Color>
                          <Style>Solid</Style>
                        </Border>
                        <PaddingLeft>2pt</PaddingLeft>
                        <PaddingRight>2pt</PaddingRight>
                        <PaddingTop>2pt</PaddingTop>
                        <PaddingBottom>2pt</PaddingBottom>
                        <Direction>RTL</Direction>
                      </Style>
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="BenefitCardName">
                      <CanGrow>true</CanGrow>
                      <KeepTogether>true</KeepTogether>
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>=Fields!BenefitCardName.Value</Value>
                              <Style />
                            </TextRun>
                          </TextRuns>
                          <Style>
                            <TextAlign>Right</TextAlign>
                          </Style>
                        </Paragraph>
                      </Paragraphs>
                      <rd:DefaultName>BenefitCardName</rd:DefaultName>
                      <Style>
                        <Border>
                          <Color>LightGrey</Color>
                          <Style>Solid</Style>
                        </Border>
                        <PaddingLeft>2pt</PaddingLeft>
                        <PaddingRight>2pt</PaddingRight>
                        <PaddingTop>2pt</PaddingTop>
                        <PaddingBottom>2pt</PaddingBottom>
                        <Direction>RTL</Direction>
                      </Style>
                    </Textbox>
                  </CellContents>
                </TablixCell>
                <TablixCell>
                  <CellContents>
                    <Textbox Name="HasEmpCardBenefit">
                      <CanGrow>true</CanGrow>
                      <KeepTogether>true</KeepTogether>
                      <Paragraphs>
                        <Paragraph>
                          <TextRuns>
                            <TextRun>
                              <Value>=Fields!HasEmpCardBenefit.Value</Value>
                              <Style />
                            </TextRun>
                          </TextRuns>
                          <Style>
                            <TextAlign>Right</TextAlign>
                          </Style>
                        </Paragraph>
                      </Paragraphs>
                      <rd:DefaultName>HasEmpCardBenefit</rd:DefaultName>
                      <Style>
                        <Border>
                          <Color>LightGrey</Color>
                          <Style>Solid</Style>
                        </Border>
                        <PaddingLeft>2pt</PaddingLeft>
                        <PaddingRight>2pt</PaddingRight>
                        <PaddingTop>2pt</PaddingTop>
                        <PaddingBottom>2pt</PaddingBottom>
                        <Direction>RTL</Direction>
                      </Style>
                    </Textbox>
                  </CellContents>
                </TablixCell>
              </TablixCells>
            </TablixRow>
          </TablixRows>
        </TablixBody>
        <TablixColumnHierarchy>
          <TablixMembers>
            <TablixMember />
            <TablixMember />
            <TablixMember />
            <TablixMember />
            <TablixMember />
            <TablixMember />
          </TablixMembers>
        </TablixColumnHierarchy>
        <TablixRowHierarchy>
          <TablixMembers>
            <TablixMember>
              <KeepWithGroup>After</KeepWithGroup>
            </TablixMember>
            <TablixMember>
              <Group Name="Details" />
            </TablixMember>
          </TablixMembers>
        </TablixRowHierarchy>
        <DataSetName>BasicInfoDataSet</DataSetName>
        <Top>0cm</Top>
        <Left>0cm</Left>
        <Height>1.2cm</Height>
        <Width>34.99998cm</Width>
        <Style>
          <Border>
            <Style>None</Style>
          </Border>
        </Style>
      </Tablix>
    </ReportItems>
    <Height>0.47955in</Height>
    <Style />
  </Body>
  <Width>13.77953in</Width>
  <Page>
    <PageHeight>29.7cm</PageHeight>
    <PageWidth>21cm</PageWidth>
    <LeftMargin>2cm</LeftMargin>
    <RightMargin>2cm</RightMargin>
    <TopMargin>2cm</TopMargin>
    <BottomMargin>2cm</BottomMargin>
    <ColumnSpacing>0.13cm</ColumnSpacing>
    <Style />
  </Page>
  <AutoRefresh>0</AutoRefresh>
  <DataSources>
    <DataSource Name="DataSource">
      <DataSourceReference>SharedDataSource</DataSourceReference>
      <rd:SecurityType>None</rd:SecurityType>
      <rd:DataSourceID>9a350a56-51d6-40e0-b0cf-07e98984a2ce</rd:DataSourceID>
    </DataSource>
  </DataSources>
  <DataSets>
    <DataSet Name="BasicInfoDataSet">
      <Query>
        <DataSourceName>DataSource</DataSourceName>
        <CommandText>WITH EmployeeCardBenefit_CTE
AS-- EmployeeCard CTE query.  
(
SELECT     
dbo.Employee.Id AS EmpId, 
dbo.BenefitCard.Id AS BenefitCardID,
dbo.BenefitCard.Name AS BenefitCardName, 
dbo.PrimaryEmployeeBenefit.Value, 
dbo.PrimaryEmployeeBenefit.Formula, 
dbo.PrimaryEmployeeBenefit.ExtraValue, 
dbo.PrimaryEmployeeBenefit.ExtraValueFormula,
'من البطاقة' AS HasEmpCardBenefit,
1 AS Type
FROM	
dbo.Employee 
INNER JOIN dbo.EmployeeCard ON dbo.Employee.Id = dbo.EmployeeCard.Employee_id 
INNER JOIN dbo.PrimaryEmployeeBenefit ON dbo.PrimaryEmployeeBenefit.EmployeeCard_id = dbo.EmployeeCard.Id 
INNER JOIN dbo.BenefitCard ON dbo.PrimaryEmployeeBenefit.BenefitCard_id = dbo.BenefitCard.Id
WHERE	
PrimaryEmployeeBenefit.IsVertualDeleted=0 AND 
Employee.IsVertualDeleted=0 AND 
EmployeeCard.IsVertualDeleted=0 AND 
BenefitCard.IsVertualDeleted=0
),-- Grade CTE query  
GradeBenefit_CTE
AS  
(
SELECT     
dbo.Employee.Id AS EmpId, 
dbo.BenefitCard.Id AS BenefitCardID,
dbo.BenefitCard.Name AS BenefitCardName, 
dbo.GradeBenefitDetail.Value, 
dbo.GradeBenefitDetail.Formula,
dbo.GradeBenefitDetail.ExtraValue, 
dbo.GradeBenefitDetail.ExtraValueFormula,
'من الفئة' AS HasEmpCardBenefit,
2 AS Type
FROM         
dbo.Employee 
INNER JOIN dbo.JobDescription ON dbo.Employee.Id = dbo.JobDescription.Id 
INNER JOIN dbo.JobTitle ON dbo.JobDescription.JobTitle_id = dbo.JobTitle.Id 
INNER JOIN dbo.Grade ON dbo.JobTitle.Grade_id = dbo.Grade.Id 
INNER JOIN dbo.GradeBenefitDetail ON dbo.GradeBenefitDetail.Grade_id = dbo.Grade.Id 
INNER JOIN dbo.BenefitCard ON dbo.GradeBenefitDetail.BenefitCard_id = dbo.BenefitCard.Id
WHERE
JobDescription.IsVertualDeleted=0 AND 
Employee.IsVertualDeleted=0 AND 
JobTitle.IsVertualDeleted=0 AND 
Grade.IsVertualDeleted=0 AND 
GradeBenefitDetail.IsVertualDeleted=0 AND 
BenefitCard.IsVertualDeleted=0 
AND dbo.BenefitCard.Id NOT IN (	SELECT	BenefitCardID
								FROM	EmployeeCardBenefit_CTE
								WHERE	EmployeeCardBenefit_CTE.EmpId = dbo.Employee.Id)
),-- JobTitle CTE query  
JobTitleBenefit_CTE
AS  
(
SELECT     
dbo.Employee.Id AS EmpId, 
dbo.BenefitCard.Id AS BenefitCardID,
dbo.BenefitCard.Name AS BenefitCardName, 
dbo.JobTitleBenefitDetail.Value, 
dbo.JobTitleBenefitDetail.Formula,
dbo.JobTitleBenefitDetail.ExtraValue, 
dbo.JobTitleBenefitDetail.ExtraValueFormula,
'من المسمى الوظيفي' AS HasEmpCardBenefit,
3 AS Type
FROM         
dbo.Employee 
INNER JOIN dbo.JobDescription ON dbo.Employee.Id = dbo.JobDescription.Id 
INNER JOIN dbo.JobTitle ON dbo.JobDescription.JobTitle_id = dbo.JobTitle.Id 
INNER JOIN dbo.JobTitleBenefitDetail ON dbo.JobTitleBenefitDetail.JobTitle_id = dbo.JobTitle.Id 
INNER JOIN dbo.BenefitCard ON dbo.JobTitleBenefitDetail.BenefitCard_id = dbo.BenefitCard.Id
WHERE
JobDescription.IsVertualDeleted=0 AND 
Employee.IsVertualDeleted=0 AND 
JobTitle.IsVertualDeleted=0 AND 
JobTitleBenefitDetail.IsVertualDeleted=0 AND 
BenefitCard.IsVertualDeleted=0 
AND dbo.BenefitCard.Id NOT IN (	SELECT	BenefitCardID
								FROM	EmployeeCardBenefit_CTE
								WHERE	EmployeeCardBenefit_CTE.EmpId = dbo.Employee.Id
								UNION
								SELECT	BenefitCardID
								FROM	GradeBenefit_CTE
								WHERE	EmpId = dbo.Employee.Id)
),-- JobDescription CTE query  
JobDescriptionBenefit_CTE
AS  
(
SELECT     
dbo.Employee.Id AS EmpId, 
dbo.BenefitCard.Id AS BenefitCardID,
dbo.BenefitCard.Name AS BenefitCardName, 
dbo.JobDescriptionBenefitDetail.Value, 
dbo.JobDescriptionBenefitDetail.Formula,
dbo.JobDescriptionBenefitDetail.ExtraValue, 
dbo.JobDescriptionBenefitDetail.ExtraValueFormula,
'من الوصف الوظيفي' AS HasEmpCardBenefit,
4 AS Type
FROM         
dbo.Employee 
INNER JOIN dbo.JobDescription ON dbo.Employee.Id = dbo.JobDescription.Id 
INNER JOIN dbo.JobDescriptionBenefitDetail ON dbo.JobDescriptionBenefitDetail.JobDescription_id = dbo.JobDescription.Id 
INNER JOIN dbo.BenefitCard ON dbo.JobDescriptionBenefitDetail.BenefitCard_id = dbo.BenefitCard.Id
WHERE
JobDescription.IsVertualDeleted=0 AND 
Employee.IsVertualDeleted=0 AND 
JobDescriptionBenefitDetail.IsVertualDeleted=0 AND 
BenefitCard.IsVertualDeleted=0 
AND dbo.BenefitCard.Id NOT IN (	SELECT	BenefitCardID
								FROM	EmployeeCardBenefit_CTE
								WHERE	EmployeeCardBenefit_CTE.EmpId = dbo.Employee.Id
								UNION
								SELECT	BenefitCardID
								FROM	GradeBenefit_CTE
								WHERE	EmpId = dbo.Employee.Id
								UNION
								SELECT	BenefitCardID
								FROM	JobTitleBenefit_CTE
								WHERE	EmpId = dbo.Employee.Id)
),-- Position CTE query  
PositionBenefit_CTE
AS  
(
SELECT     
dbo.Employee.Id AS EmpId, 
dbo.BenefitCard.Id AS BenefitCardID,
dbo.BenefitCard.Name AS BenefitCardName, 
dbo.PositionBenefitDetail.Value, 
dbo.PositionBenefitDetail.Formula,
dbo.PositionBenefitDetail.ExtraValue, 
dbo.PositionBenefitDetail.ExtraValueFormula,
'من الموقع الوظيفي' AS HasEmpCardBenefit,
5 AS Type
FROM            
dbo.Employee 
INNER JOIN dbo.AssigningEmployeeToPosition ON dbo.Employee.Id = dbo.AssigningEmployeeToPosition.Employee_id 
INNER JOIN dbo.Position ON dbo.AssigningEmployeeToPosition.Position_Id = dbo.Position.Id AND 
dbo.AssigningEmployeeToPosition.Id = dbo.Position.AssigningEmployeeToPosition_id INNER JOIN
dbo.PositionBenefitDetail ON dbo.PositionBenefitDetail.Position_id = dbo.Position.Id INNER JOIN
dbo.BenefitCard ON dbo.PositionBenefitDetail.BenefitCard_id = dbo.BenefitCard.Id
WHERE
Employee.IsVertualDeleted=0 AND 
AssigningEmployeeToPosition.IsVertualDeleted=0 AND 
Position.IsVertualDeleted=0 AND 
PositionBenefitDetail.IsVertualDeleted=0 AND 
BenefitCard.IsVertualDeleted=0 
AND dbo.BenefitCard.Id NOT IN (	SELECT	BenefitCardID
								FROM	JobDescriptionBenefit_CTE
								WHERE	EmpId = dbo.Employee.Id
								UNION
								SELECT	BenefitCardID
								FROM	EmployeeCardBenefit_CTE
								WHERE	EmployeeCardBenefit_CTE.EmpId = dbo.Employee.Id
								UNION
								SELECT	BenefitCardID
								FROM	GradeBenefit_CTE
								WHERE	EmpId = dbo.Employee.Id
								UNION
								SELECT	BenefitCardID
								FROM	JobTitleBenefit_CTE
								WHERE	EmpId = dbo.Employee.Id)
),-- Node CTE query  
NodeBenefit_CTE
AS  
(
SELECT     
dbo.Employee.Id AS EmpId, 
dbo.BenefitCard.Id AS BenefitCardID,
dbo.BenefitCard.Name AS BenefitCardName, 
dbo.NodeBenefitDetail.Value, 
dbo.NodeBenefitDetail.Formula,
dbo.NodeBenefitDetail.ExtraValue, 
dbo.NodeBenefitDetail.ExtraValueFormula,
'من العقدة' AS HasEmpCardBenefit,
6 AS Type
FROM         
dbo.Employee INNER JOIN
dbo.JobDescription ON dbo.Employee.Id = dbo.JobDescription.Id INNER JOIN
dbo.Node ON dbo.Node.Id = dbo.JobDescription.Node_id INNER JOIN
dbo.NodeBenefitDetail ON dbo.NodeBenefitDetail.Node_id = dbo.Node.Id INNER JOIN
dbo.BenefitCard ON dbo.NodeBenefitDetail.BenefitCard_id = dbo.BenefitCard.Id
WHERE
JobDescription.IsVertualDeleted=0 AND 
Employee.IsVertualDeleted=0 AND 
NodeBenefitDetail.IsVertualDeleted=0 AND 
BenefitCard.IsVertualDeleted=0 
AND dbo.BenefitCard.Id NOT IN (	SELECT	BenefitCardID
								FROM	PositionBenefit_CTE
								WHERE	EmpId = dbo.Employee.Id
								UNION
								SELECT	BenefitCardID
								FROM	JobDescriptionBenefit_CTE
								WHERE	EmpId = dbo.Employee.Id
								UNION
								SELECT	BenefitCardID
								FROM	EmployeeCardBenefit_CTE
								WHERE	EmployeeCardBenefit_CTE.EmpId = dbo.Employee.Id
								UNION
								SELECT	BenefitCardID
								FROM	GradeBenefit_CTE
								WHERE	EmpId = dbo.Employee.Id
								UNION
								SELECT	BenefitCardID
								FROM	JobTitleBenefit_CTE
								WHERE	EmpId = dbo.Employee.Id)
)
select * from EmployeeCardBenefit_CTE
union
select * from GradeBenefit_CTE
union
select * from JobTitleBenefit_CTE
union
select * from JobDescriptionBenefit_CTE
union
select * from PositionBenefit_CTE
union
select * from NodeBenefit_CTE
ORDER BY [Type]</CommandText>
      </Query>
      <Fields>
        <Field Name="EmpId">
          <DataField>EmpId</DataField>
          <rd:TypeName>System.Int32</rd:TypeName>
        </Field>
        <Field Name="BenefitCardID">
          <DataField>BenefitCardID</DataField>
          <rd:TypeName>System.Int32</rd:TypeName>
        </Field>
        <Field Name="BenefitCardName">
          <DataField>BenefitCardName</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="Value">
          <DataField>Value</DataField>
          <rd:TypeName>System.Double</rd:TypeName>
        </Field>
        <Field Name="Formula">
          <DataField>Formula</DataField>
          <rd:TypeName>System.Int32</rd:TypeName>
        </Field>
        <Field Name="ExtraValue">
          <DataField>ExtraValue</DataField>
          <rd:TypeName>System.Double</rd:TypeName>
        </Field>
        <Field Name="ExtraValueFormula">
          <DataField>ExtraValueFormula</DataField>
          <rd:TypeName>System.Int32</rd:TypeName>
        </Field>
        <Field Name="HasEmpCardBenefit">
          <DataField>HasEmpCardBenefit</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="Type">
          <DataField>Type</DataField>
          <rd:TypeName>System.Int32</rd:TypeName>
        </Field>
      </Fields>
      <Filters>
        <Filter>
          <FilterExpression>=Fields!EmpId.Value</FilterExpression>
          <Operator>In</Operator>
          <FilterValues>
            <FilterValue>=Parameters!employeeId.Value</FilterValue>
          </FilterValues>
        </Filter>
      </Filters>
    </DataSet>
  </DataSets>
  <ReportParameters>
    <ReportParameter Name="employeeId">
      <DataType>Integer</DataType>
      <Prompt>ReportParameter1</Prompt>
      <Hidden>true</Hidden>
      <MultiValue>true</MultiValue>
    </ReportParameter>
  </ReportParameters>
  <rd:ReportUnitType>Cm</rd:ReportUnitType>
  <rd:ReportID>0ea7a57c-d865-429d-b149-0922ff15b21f</rd:ReportID>
</Report>