<?xml version="1.0" encoding="utf-8"?><Report xmlns="http://schemas.microsoft.com/sqlserver/reporting/2008/01/reportdefinition" xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner"><Body><ReportItems><Tablix Name="Tablix1"><TablixBody><TablixColumns><TablixColumn><Width>7.8958in</Width></TablixColumn></TablixColumns><TablixRows><TablixRow><Height>3.6632in</Height><TablixCells><TablixCell><CellContents><Rectangle Name="Rectangle1"><ReportItems><Subreport Name="Roles"><ReportName>PMSJobDescriptionRoles</ReportName><Parameters><Parameter Name="Phase_id"><Value>=Parameters!Objectives0ObjectiveAppraisalWorkflow0Phase.Value</Value></Parameter><Parameter Name="position_id"><Value>=Fields!pos_id.Value</Value></Parameter></Parameters><Top>1.06711in</Top><Left>0.10434in</Left><Height>0.51042in</Height><Width>5.45833in</Width><Style><Border><Style>None</Style></Border></Style></Subreport><Subreport Name="Subreport3"><ReportName>PMSCustomSections</ReportName><Parameters><Parameter Name="position_id"><Value>=Fields!pos_id.Value</Value></Parameter><Parameter Name="Phase_id"><Value>=Parameters!Objectives0ObjectiveAppraisalWorkflow0Phase.Value</Value></Parameter></Parameters><Top>2.85358in</Top><Left>0.10434in</Left><Height>0.51042in</Height><Width>5.45833in</Width><ZIndex>1</ZIndex><Style><Border><Style>None</Style></Border></Style></Subreport><Subreport Name="Subreport4"><ReportName>PMSObjective</ReportName><Parameters><Parameter Name="phase_id"><Value>=Parameters!Objectives0ObjectiveAppraisalWorkflow0Phase.Value</Value></Parameter><Parameter Name="pos_id"><Value>=Fields!pos_id.Value</Value></Parameter></Parameters><Top>2.23378in</Top><Left>0.10434in</Left><Height>0.51042in</Height><Width>5.45833in</Width><ZIndex>2</ZIndex><Style><Border><Style>None</Style></Border></Style></Subreport><Subreport Name="Subreport1"><ReportName>PMSCompetenceTypes</ReportName><Parameters><Parameter Name="posId"><Value>=Fields!pos_id.Value</Value></Parameter><Parameter Name="Phase_id"><Value>=Fields!phaseId.Value</Value></Parameter></Parameters><Top>1.64697in</Top><Left>0.10434in</Left><Height>0.53125in</Height><Width>5.45818in</Width><ZIndex>3</ZIndex><Style><Border><Style>None</Style></Border></Style></Subreport><Tablix Name="Tablix8"><TablixBody><TablixColumns><TablixColumn><Width>1.57916in</Width></TablixColumn><TablixColumn><Width>1.57916in</Width></TablixColumn><TablixColumn><Width>1.57916in</Width></TablixColumn><TablixColumn><Width>1.57916in</Width></TablixColumn><TablixColumn><Width>1.57916in</Width></TablixColumn></TablixColumns><TablixRows><TablixRow><Height>0.46354in</Height><TablixCells><TablixCell><CellContents><Textbox Name="LabelPersonnel0Employee0FullName"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>Employee Full Name</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>12pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><Style><Border><Style>Solid</Style></Border><BackgroundColor>LightGrey</BackgroundColor><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom></Style></Textbox></CellContents></TablixCell><TablixCell><CellContents><Textbox Name="LabelIncentive0IncentiveTemplatePosition0Position"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>Position</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>12pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><Style><Border><Style>Solid</Style></Border><BackgroundColor>LightGrey</BackgroundColor><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom></Style></Textbox></CellContents></TablixCell><TablixCell><CellContents><Textbox Name="LabelPayrollSystem0NodeDeductionDetail0Node"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>Node</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>12pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><Style><Border><Style>Solid</Style></Border><BackgroundColor>LightGrey</BackgroundColor><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom></Style></Textbox></CellContents></TablixCell><TablixCell><CellContents><Textbox Name="LabelWorkflow0WorkflowStep0Date"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>Date</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>12pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><Style><Border><Style>Solid</Style></Border><BackgroundColor>LightGrey</BackgroundColor><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom></Style></Textbox></CellContents></TablixCell><TablixCell><CellContents><Textbox Name="LabelPMS0Appraisal00AppraisalValue"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>Appraisal Value</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>12pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><Style><Border><Style>Solid</Style></Border><BackgroundColor>LightGrey</BackgroundColor><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom></Style></Textbox></CellContents></TablixCell></TablixCells></TablixRow><TablixRow><Height>0.31771in</Height><TablixCells><TablixCell><CellContents><Textbox Name="fullName5"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>=Fields!tripleName.Value</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>11pt</FontSize></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><rd:DefaultName>fullName</rd:DefaultName><Style><Border><Style>Solid</Style></Border><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom><Direction>RTL</Direction></Style></Textbox></CellContents></TablixCell><TablixCell><CellContents><Textbox Name="fullName6"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>=Fields!jobDescName.Value</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>11pt</FontSize></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><rd:DefaultName>fullName</rd:DefaultName><Style><Border><Style>Solid</Style></Border><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom><Direction>RTL</Direction></Style></Textbox></CellContents></TablixCell><TablixCell><CellContents><Textbox Name="Node4"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>=Fields!nodeName.Value</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>11pt</FontSize></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><rd:DefaultName>Node</rd:DefaultName><Style><Border><Style>Solid</Style></Border><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom><Direction>RTL</Direction></Style></Textbox></CellContents></TablixCell><TablixCell><CellContents><Textbox Name="Node5"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>=Fields!Apprisaldate.Value</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>11pt</FontSize><Format>d</Format></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><rd:DefaultName>Node</rd:DefaultName><Style><Border><Style>Solid</Style></Border><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom><Direction>RTL</Direction></Style></Textbox></CellContents></TablixCell><TablixCell><CellContents><Textbox Name="fullName7"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>=round(Fields!apprisalValue.Value / Fields!steps.Value,2)</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>11pt</FontSize></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><rd:DefaultName>fullName</rd:DefaultName><Style><Border><Style>Solid</Style></Border><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom><Direction>RTL</Direction></Style></Textbox></CellContents></TablixCell></TablixCells></TablixRow></TablixRows></TablixBody><TablixColumnHierarchy><TablixMembers><TablixMember /><TablixMember /><TablixMember /><TablixMember /><TablixMember /></TablixMembers></TablixColumnHierarchy><TablixRowHierarchy><TablixMembers><TablixMember><KeepWithGroup>After</KeepWithGroup></TablixMember><TablixMember><Group Name="Details6" /></TablixMember></TablixMembers></TablixRowHierarchy><Top>0.21642in</Top><Height>0.78125in</Height><Width>7.8958in</Width><ZIndex>4</ZIndex><Style><Border><Style>None</Style></Border></Style></Tablix></ReportItems><KeepTogether>true</KeepTogether><Style><Border><Style>None</Style></Border></Style></Rectangle></CellContents></TablixCell></TablixCells></TablixRow></TablixRows></TablixBody><TablixColumnHierarchy><TablixMembers><TablixMember /></TablixMembers></TablixColumnHierarchy><TablixRowHierarchy><TablixMembers><TablixMember><Group Name="Details"><GroupExpressions><GroupExpression>=Fields!emp_id.Value</GroupExpression></GroupExpressions><PageBreak><BreakLocation>Between</BreakLocation></PageBreak></Group></TablixMember></TablixMembers></TablixRowHierarchy><DataSetName>PersonnelApprisalInfoData</DataSetName><Top>1.16541in</Top><Left>2.09355in</Left><Height>3.6632in</Height><Width>7.8958in</Width><Style><Border><Style>None</Style></Border></Style></Tablix><Tablix Name="Tablix7"><TablixBody><TablixColumns><TablixColumn><Width>2.20915in</Width></TablixColumn><TablixColumn><Width>2.17075in</Width></TablixColumn></TablixColumns><TablixRows><TablixRow><Height>0.30913in</Height><TablixCells><TablixCell><CellContents><Textbox Name="LabelReleaseDate"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>Release Date</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>14pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><Style><Border><Style>Solid</Style></Border><BackgroundColor>LightGrey</BackgroundColor><VerticalAlign>Middle</VerticalAlign><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom></Style></Textbox></CellContents></TablixCell><TablixCell><CellContents><Textbox Name="Textbox17"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>=Format(Globals!ExecutionTime,"yyyy/MM/dd")</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>14pt</FontSize><Format>d</Format></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><rd:DefaultName>Textbox3</rd:DefaultName><Style><Border><Style>Solid</Style></Border><VerticalAlign>Middle</VerticalAlign><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom></Style></Textbox></CellContents></TablixCell></TablixCells></TablixRow><TablixRow><Height>0.27083in</Height><TablixCells><TablixCell><CellContents><Textbox Name="LabelObjectives0ObjectiveAppraisalWorkflow0Phase"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>Phase</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>14pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><Style><Border><Style>Solid</Style></Border><BackgroundColor>LightGrey</BackgroundColor><VerticalAlign>Middle</VerticalAlign><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom></Style></Textbox><rd:Selected>true</rd:Selected></CellContents></TablixCell><TablixCell><CellContents><Textbox Name="Textbox25"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>=Parameters!Objectives0ObjectiveAppraisalWorkflow0Phase.Label</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>14pt</FontSize><Format>d</Format></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><rd:DefaultName>Textbox17</rd:DefaultName><Style><Border><Style>Solid</Style></Border><VerticalAlign>Middle</VerticalAlign><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom></Style></Textbox></CellContents></TablixCell></TablixCells></TablixRow></TablixRows></TablixBody><TablixColumnHierarchy><TablixMembers><TablixMember /><TablixMember /></TablixMembers></TablixColumnHierarchy><TablixRowHierarchy><TablixMembers><TablixMember /><TablixMember /></TablixMembers></TablixRowHierarchy><DataSetName>PhasesDataSet</DataSetName><Top>0.38194in</Top><Left>3.01882in</Left><Height>0.57996in</Height><Width>4.3799in</Width><ZIndex>1</ZIndex><Style><Border><Style>Solid</Style></Border><TopBorder><Color>Black</Color><Style>Solid</Style><Width>1pt</Width></TopBorder><BottomBorder><Color>Black</Color><Style>Solid</Style><Width>1pt</Width></BottomBorder><LeftBorder><Color>Black</Color><Style>Solid</Style><Width>1pt</Width></LeftBorder><RightBorder><Color>Black</Color><Style>Solid</Style><Width>1pt</Width></RightBorder></Style></Tablix></ReportItems><Height>5.20709in</Height><Style /></Body><Width>9.98935in</Width><Page><PageHeader><Height>0.59609in</Height><PrintOnFirstPage>true</PrintOnFirstPage><PrintOnLastPage>true</PrintOnLastPage><ReportItems><Textbox Name="LabelPerformanceAppraisal"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>Performance Appraisal</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>20pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><Left>0cm</Left><Height>0.59609in</Height><Width>9.98935in</Width><Style><Border><Style>None</Style></Border><BackgroundColor>LightGrey</BackgroundColor><VerticalAlign>Middle</VerticalAlign><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom></Style></Textbox></ReportItems><Style><Border><Style>None</Style></Border></Style></PageHeader><PageFooter><Height>0.42708in</Height><PrintOnFirstPage>true</PrintOnFirstPage><PrintOnLastPage>true</PrintOnLastPage><ReportItems><Textbox Name="Textbox0012"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>/</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>12pt</FontSize></Style></TextRun><TextRun><Value>=Globals!TotalPages</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>12pt</FontSize></Style></TextRun></TextRuns><Style><TextAlign>Left</TextAlign></Style></Paragraph></Paragraphs><Top>0.08248cm</Top><Left>14.25958cm</Left><Height>0.91983cm</Height><Width>3.22688cm</Width><Style><Border><Style>None</Style></Border><VerticalAlign>Middle</VerticalAlign><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom></Style></Textbox><Textbox Name="Textbox01"><CanGrow>true</CanGrow><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>=Globals!PageNumber</Value><Style><FontFamily>Tahoma</FontFamily><FontSize>12pt</FontSize></Style></TextRun></TextRuns><Style><TextAlign>Right</TextAlign></Style></Paragraph></Paragraphs><Top>0.08248cm</Top><Left>11.11373cm</Left><Height>0.91983cm</Height><Width>3.11058cm</Width><ZIndex>1</ZIndex><Style><Border><Style>None</Style></Border><VerticalAlign>Middle</VerticalAlign><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight><PaddingTop>2pt</PaddingTop><PaddingBottom>2pt</PaddingBottom></Style></Textbox></ReportItems><Style><Border><Style>None</Style></Border></Style></PageFooter><PageHeight>16.54in</PageHeight><PageWidth>11.69in</PageWidth><LeftMargin>1in</LeftMargin><RightMargin>1in</RightMargin><TopMargin>1in</TopMargin><BottomMargin>1in</BottomMargin><Style /></Page><AutoRefresh>0</AutoRefresh><DataSources><DataSource Name="SharedDataSource"><DataSourceReference>SharedDataSource</DataSourceReference><rd:SecurityType>None</rd:SecurityType><rd:DataSourceID>93c76b6c-5f9c-4718-b31c-296ed9fb2e88</rd:DataSourceID></DataSource></DataSources><DataSets><DataSet Name="EmployeesDataSet"><Query><DataSourceName>SharedDataSource</DataSourceName><QueryParameters><QueryParameter Name="@ChildNode"><Value>=Parameters!LabelChildNode.Value</Value></QueryParameter><QueryParameter Name="@phase_id"><Value>=Parameters!Objectives0ObjectiveAppraisalWorkflow0Phase.Value</Value></QueryParameter><QueryParameter Name="@SearchFullName"><Value>=Parameters!SearchFullName.Value</Value></QueryParameter></QueryParameters><CommandText>select distinct employee.Id as emp_id, employee.FirstName +' '+ employee.LastName as fullName, postion.Id as pos_id,node.Id nodeId
from Employee as employee
inner join EmployeeCard as emp_card on emp_card.Employee_id=employee.Id
inner join AssigningEmployeeToPosition as assign on assign.Employee_id=employee.Id
inner join Position as postion on postion.Id=assign.Position_Id
inner join JobDescription as jobDesc on jobDesc.Id=postion.JobDescription_id
inner join Node as node on node.Id=jobDesc.Node_id


inner JOIN
                         AppraisalPhaseWorkflow ON postion.Id = AppraisalPhaseWorkflow.Position_id 
                         inner join AppraisalPhase AS phase  on phase.Id=AppraisalPhaseWorkflow.Phase_Id   
						 Inner JOIN Appraisal on Appraisal.PhaseWorkflow_id=AppraisalPhaseWorkflow.Id
where postion.IsVertualDeleted=0 and employee.IsVertualDeleted=0 and assign.IsVertualDeleted=0 
and jobDesc.IsVertualDeleted=0 and node.IsVertualDeleted=0

	and (( node.Id in (@ChildNode)) or (( node.id is null) and (0 in (@ChildNode))))
	and phase.Id =(@phase_id)
AND employee.FirstName +' '+ ISNULL(employee.FatherName,'') +' '+ employee.LastName  Like '%'+ISNULL(@SearchFullName,'')+'%'

ORDER BY FullName ASC</CommandText><rd:UseGenericDesigner>true</rd:UseGenericDesigner></Query><Fields><Field Name="emp_id"><DataField>emp_id</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="fullName"><DataField>fullName</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="pos_id"><DataField>pos_id</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="nodeId"><DataField>nodeId</DataField><rd:TypeName>System.Int32</rd:TypeName></Field></Fields></DataSet><DataSet Name="NodesDateSet"><Query><DataSourceName>SharedDataSource</DataSourceName><QueryParameters><QueryParameter Name="@SearchNode"><Value>=Parameters!SearchNode.Value</Value></QueryParameter></QueryParameters><CommandText>SELECT        Id, Name, Parent_Id
FROM            Node
WHERE        (IsVertualDeleted = 0) AND (Name LIKE '%' + ISNULL(@SearchNode, N'') + '%')
UNION ALL
SELECT        0 AS Expr1, '_بلا عقدة' AS Expr2, 0 AS Expr3
ORDER BY Name</CommandText></Query><Fields><Field Name="Id"><DataField>Id</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="Name"><DataField>Name</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="Parent_Id"><DataField>Parent_Id</DataField><rd:TypeName>System.Int32</rd:TypeName></Field></Fields></DataSet><DataSet Name="PhasesDataSet"><Query><DataSourceName>SharedDataSource</DataSourceName><CommandText>SELECT Id,Name FROM [dbo].[AppraisalPhase] where IsVertualDeleted=0</CommandText></Query><Fields><Field Name="Id"><DataField>Id</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="Name"><DataField>Name</DataField><rd:TypeName>System.String</rd:TypeName></Field></Fields></DataSet><DataSet Name="PersonnelApprisalInfoData"><Query><DataSourceName>SharedDataSource</DataSourceName><CommandText>SELECT DISTINCT 
                         phaseWorkflow.Id AS phaseworkflowId, employee.Id AS emp_id, employee.FirstName + ' ' + employee.FatherName + ' ' + employee.LastName AS tripleName, postion.Id AS pos_id, jobDesc.Name AS jobDescName, 
                         node.Id AS node_id, node.Name AS nodeName, phase.Id AS phaseId, phase.Name AS phaseName,
                             (SELECT        TOP (1) Date
                                FROM            WorkflowStep AS step
                                WHERE        (Workflow_id = workitem.Id)
                                ORDER BY Date DESC) AS Apprisaldate,
                             (SELECT        SUM(AppraisalValue) AS Expr1
                                FROM            Appraisal AS apprisal_
                                WHERE        (PhaseWorkflow_id = phaseWorkflow.Id)) AS apprisalValue,
                             (SELECT        COUNT(*) AS Expr1
                                FROM            WorkflowStep AS step
                                WHERE        (Workflow_id = workitem.Id) AND (Status = 0)) AS steps
FROM            AppraisalPhase AS phase INNER JOIN
                         AppraisalPhaseWorkflow AS phaseWorkflow ON phase.Id = phaseWorkflow.Phase_Id INNER JOIN
                         Position AS postion ON postion.Id = phaseWorkflow.Position_id INNER JOIN
                         JobDescription AS jobDesc ON jobDesc.Id = postion.JobDescription_id INNER JOIN
                         Node AS node ON node.Id = jobDesc.Node_id INNER JOIN
                         AssigningEmployeeToPosition AS assign ON assign.Position_Id = postion.Id INNER JOIN
                         Employee AS employee ON employee.Id = assign.Employee_id INNER JOIN
                         WorkflowItem AS workitem ON workitem.Id = phaseWorkflow.WorkflowItem_id INNER JOIN
                         Appraisal ON Appraisal.PhaseWorkflow_id = phaseWorkflow.Id
WHERE        (postion.IsVertualDeleted = 0) AND (employee.IsVertualDeleted = 0) AND (assign.IsVertualDeleted = 0) AND (assign.IsVertualDeleted = 0) AND (workitem.IsVertualDeleted = 0) AND (phase.IsVertualDeleted = 0) AND 
                         (phaseWorkflow.IsVertualDeleted = 0) AND (jobDesc.IsVertualDeleted = 0)</CommandText></Query><Fields><Field Name="phaseworkflowId"><DataField>phaseworkflowId</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="emp_id"><DataField>emp_id</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="tripleName"><DataField>tripleName</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="pos_id"><DataField>pos_id</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="jobDescName"><DataField>jobDescName</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="node_id"><DataField>node_id</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="nodeName"><DataField>nodeName</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="phaseId"><DataField>phaseId</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="phaseName"><DataField>phaseName</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="Apprisaldate"><DataField>Apprisaldate</DataField><rd:TypeName>System.DateTime</rd:TypeName></Field><Field Name="apprisalValue"><DataField>apprisalValue</DataField><rd:TypeName>System.Double</rd:TypeName></Field><Field Name="steps"><DataField>steps</DataField><rd:TypeName>System.Int32</rd:TypeName></Field></Fields><Filters><Filter><FilterExpression>=Fields!emp_id.Value</FilterExpression><Operator>In</Operator><FilterValues><FilterValue>=Parameters!Personnel0Employee0FullName.Value</FilterValue></FilterValues></Filter><Filter><FilterExpression>=Fields!phaseId.Value</FilterExpression><Operator>Equal</Operator><FilterValues><FilterValue>=Parameters!Objectives0ObjectiveAppraisalWorkflow0Phase.Value</FilterValue></FilterValues></Filter><Filter><FilterExpression>=Fields!emp_id.Value</FilterExpression><Operator>In</Operator><FilterValues><FilterValue>=Parameters!Personnel0Employee0FullName.Value</FilterValue></FilterValues></Filter></Filters></DataSet><DataSet Name="childnodeDataSet"><Query><DataSourceName>SharedDataSource</DataSourceName><QueryParameters><QueryParameter Name="@node"><Value>=Parameters!PayrollSystem0NodeDeductionDetail0Node.Value</Value></QueryParameter><QueryParameter Name="@SearchChildNode"><Value>=Parameters!SearchChildNode.Value</Value></QueryParameter></QueryParameters><CommandText>SET                NOCOUNT ON; WITH EntityChildren AS
                             (SELECT        Id, Name, Parent_Id
                                FROM            dbo.Node
                                WHERE        Node.Id = @node AND (Name LIKE '%' + ISNULL(@SearchChildNode, N'') + '%')
                                UNION ALL
                                SELECT        e.Id, e.Name, e.Parent_Id
                                FROM            dbo.Node e INNER JOIN
                                                         EntityChildren e2 ON e.Parent_Id = e2.Id)
                             SELECT        *
                              FROM            EntityChildren
                              ORDER BY 2</CommandText></Query><Fields><Field Name="Id"><DataField>Id</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="Name"><DataField>Name</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="Parent_Id"><DataField>Parent_Id</DataField><rd:TypeName>System.Int32</rd:TypeName></Field></Fields></DataSet></DataSets><ReportParameters><ReportParameter Name="SearchNode"><DataType>String</DataType><DefaultValue><Values><Value /></Values></DefaultValue><AllowBlank>true</AllowBlank><Prompt>Search Node</Prompt></ReportParameter><ReportParameter Name="PayrollSystem0NodeDeductionDetail0Node"><DataType>Integer</DataType><Prompt>Node</Prompt><ValidValues><DataSetReference><DataSetName>NodesDateSet</DataSetName><ValueField>Id</ValueField><LabelField>Name</LabelField></DataSetReference></ValidValues></ReportParameter><ReportParameter Name="SearchChildNode"><DataType>String</DataType><DefaultValue><Values><Value /></Values></DefaultValue><AllowBlank>true</AllowBlank><Prompt>SearchChildNode</Prompt></ReportParameter><ReportParameter Name="LabelChildNode"><DataType>Integer</DataType><Prompt>Child Node</Prompt><ValidValues><DataSetReference><DataSetName>childnodeDataSet</DataSetName><ValueField>Id</ValueField><LabelField>Name</LabelField></DataSetReference></ValidValues><MultiValue>true</MultiValue></ReportParameter><ReportParameter Name="Objectives0ObjectiveAppraisalWorkflow0Phase"><DataType>Integer</DataType><Prompt>Phase</Prompt><ValidValues><DataSetReference><DataSetName>PhasesDataSet</DataSetName><ValueField>Id</ValueField><LabelField>Name</LabelField></DataSetReference></ValidValues></ReportParameter><ReportParameter Name="SearchFullName"><DataType>String</DataType><DefaultValue><Values><Value /></Values></DefaultValue><AllowBlank>true</AllowBlank><Prompt>Search FullName</Prompt></ReportParameter><ReportParameter Name="Personnel0Employee0FullName"><DataType>Integer</DataType><Prompt>Employee</Prompt><ValidValues><DataSetReference><DataSetName>EmployeesDataSet</DataSetName><ValueField>emp_id</ValueField><LabelField>fullName</LabelField></DataSetReference></ValidValues><MultiValue>true</MultiValue></ReportParameter></ReportParameters><Language>en-US</Language><ConsumeContainerWhitespace>true</ConsumeContainerWhitespace><rd:ReportUnitType>Inch</rd:ReportUnitType><rd:ReportID>3c78bbcf-6e62-4640-86d1-fbea7a6b7dc6</rd:ReportID></Report>