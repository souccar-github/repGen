/*
* Kendo UI v2014.1.528 (http://www.telerik.com/kendo-ui)
* Copyright 2014 Telerik AD. All rights reserved.
*
* Kendo UI commercial licenses may be obtained at
* http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
function(e, define) { define("kendo.dropdownlist.min", ["kendo.list.min", "kendo.mobile.scroller.min"], e) }

(function() {
    return function(e, t) {

        function n(e, t, n) {
            for (var i, o = 0, r = t.length - 1; o < r; ++o) i = t[o], i in e || (e[i] = {}), e = e[i];
            e[t[r]] = n
        }

        function i(e, t) { return e >= t && (e -= t), e }

        function o(e, t) {
            for (var n = 0; n < e.length; n++)
                if (e.charAt(n) !== t) return !1;
            return !0
        }

        var r = window.kendo,
            s = r.ui,
            a = s.List,
            l = s.Select,
            c = r.support,
            d = r._activeElement,
            u = r.data.ObservableObject,
            h = r.keys,
            f = ".kendoDropDownList",
            p = "disabled",
            m = "readonly",
            g = "change",
            v = "k-state-focused",
            _ = "k-state-default",
            b = "k-state-disabled",
            w = "aria-disabled",
            y = "mouseenter" + f + " mouseleave" + f,
            k = "tabindex",
            x = "filter",
            C = "accept",
            S = "The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel",
            T = e.proxy,
            D = l.extend({
                init: function(n, i) {
                    var o, s, a, c = this,
                        d = i && i.index;
                    c.ns = f, i = e.isArray(i) ? { dataSource: i } : i, l.fn.init.call(c, n, i), i = c.options, n = c.element.on("focus" + f, T(c._focusHandler, c)), c._focusInputHandler = e.proxy(c._focusInput, c), c.optionLabel = e(), c._optionLabel(), c._inputTemplate(), c._reset(), c._prev = "", c._word = "", c._wrapper(), c._tabindex(), c.wrapper.data(k, c.wrapper.attr(k)), c._span(), c._popup(), c._mobile(), c._dataSource(), c._ignoreCase(), c._filterHeader(), c._aria(), c._enable(), c._oldIndex = c.selectedIndex = -1, d !== t && (i.index = d), c._initialIndex = i.index, c.requireValueMapper(c.options), c._initList(), c._cascade(), i.autoBind ? c.dataSource.fetch() : c.selectedIndex === -1 && (s = i.text || "", s || (o = i.optionLabel, o && 0 === i.index ? s = o : c._isSelect && (s = n.children(":selected")
                        .text())), c._textAccessor(s)), a = e(c.element)
                            .parents("fieldset")
                            .is(":disabled"), a && c.enable(!1), c.listView.bind("click", function(e) { e.preventDefault() }), r.notify(c)
                },
                options: { name: "DropDownList", enabled: !0, autoBind: !0, index: 0, text: null, value: null, delay: 500, height: 200, dataTextField: "", dataValueField: "", optionLabel: "", cascadeFrom: "", cascadeFromField: "", ignoreCase: !0, animation: {}, filter: "none", minLength: 1, enforceMinLength: !1, virtual: !1, template: null, valueTemplate: null, optionLabelTemplate: null, groupTemplate: "#:data#", fixedGroupTemplate: "#:data#" },
                events: ["open", "close", g, "select", "filtering", "dataBinding", "dataBound", "cascade", "set"],
                setOptions: function(e) { l.fn.setOptions.call(this, e), this.listView.setOptions(this._listOptions(e)), this._optionLabel(), this._inputTemplate(), this._accessors(), this._filterHeader(), this._enable(), this._aria(), !this.value() && this.hasOptionLabel() && this.select(0) },
                destroy: function() {
                    var e = this;
                    l.fn.destroy.call(e), e.wrapper.off(f), e.element.off(f), e._inputWrapper.off(f), e._arrow.off(), e._arrow = null, e._arrowIcon = null, e.optionLabel.off()
                },
                open: function() {
                    var e = this;
                    e.popup.visible() || (e.listView.bound() && e._state !== C ? e._allowOpening() && (e.popup.one("activate", e._focusInputHandler), e.popup.open(), e._resizeFilterInput(), e._focusItem()) : (e._open = !0, e._state = "rebind", e.filterInput && (e.filterInput.val(""), e._prev = ""), e.filterInput && 1 !== e.options.minLength ? (e.refresh(), e.popup.one("activate", e._focusInputHandler), e.popup.open(), e._resizeFilterInput()) : e._filterSource()))
                },
                _focusInput: function() { this._focusElement(this.filterInput) },
                _resizeFilterInput: function() {
                    var e, t, n = this.filterInput,
                        i = this._prevent;
                    n && (e = this.filterInput[0] === d(), t = r.caret(this.filterInput[0])[0], this._prevent = !0, n.css("display", "none")
                        .css("width", this.popup.element.css("width"))
                        .css("display", "inline-block"), e && (n.focus(), r.caret(n[0], t)), this._prevent = i)
                },
                _allowOpening: function() { return this.hasOptionLabel() || this.filterInput || l.fn._allowOpening.call(this) },
                toggle: function(e) { this._toggle(e, !0) },
                current: function(e) {
                    var n;
                    return e === t ? (n = this.listView.focus(), !n && 0 === this.selectedIndex && this.hasOptionLabel() ? this.optionLabel : n) : (this._focus(e), t)
                },
                dataItem: function(n) {
                    var i = this,
                        o = null;
                    if (null === n) return n;
                    if (n === t) o = i.listView.selectedDataItems()[0];
                    else {
                        if ("number" != typeof n) {
                            if (i.options.virtual)
                                return i.dataSource.getByUid(e(n)
                                    .data("uid"));
                            n = n.hasClass("k-list-optionlabel") ? -1 : e(i.items())
                                .index(n)
                        } else i.hasOptionLabel() && (n -= 1);
                        o = i.dataSource.flatView()[n]
                    }
                    return o || (o = i._optionLabelDataItem()), o
                },
                refresh: function() { this.listView.refresh() },
                text: function(e) {
                    var n, i = this,
                        o = i.options.ignoreCase;
                    return e = null === e ? "" : e, e === t ? i._textAccessor() : "string" != typeof e ? (i._textAccessor(e), t) : (n = o ? e.toLowerCase() : e, i._select(function(e) {
                        return e = i._text(e), o && (e = (e + "")
                            .toLowerCase()), e === n
                    })
                        .done(function() { i._textAccessor(i.dataItem() || e) }), t)
                },
                _clearFilter: function() {
                    e(this.filterInput)
                        .val(""), l.fn._clearFilter.call(this)
                },
                value: function(e) {
                    var n = this,
                        i = n.listView,
                        o = n.dataSource;
                    return e === t ? (e = n._accessor() || n.listView.value()[0], e === t || null === e ? "" : e) : (n.requireValueMapper(n.options, e), !e && n.hasOptionLabel() || (n._initialIndex = null), this.trigger("set", { value: e }), n._request && n.options.cascadeFrom && n.listView.bound() ? (n._valueSetter && o.unbind(g, n._valueSetter), n._valueSetter = T(function() { n.value(e) }, n), o.one(g, n._valueSetter), t) : (n._isFilterEnabled() && i.bound() && i.isFiltered() ? n._clearFilter() : n._fetchData(), i.value(e)
                        .done(function() { n._old = n._accessor(), n._oldIndex = n.selectedIndex }), t))
                },
                hasOptionLabel: function() { return this.optionLabel && !!this.optionLabel[0] },
                _optionLabel: function() {
                    var n = this,
                        i = n.options,
                        o = i.optionLabel,
                        s = i.optionLabelTemplate;
                    return o ? (s || (s = "#:", s += "string" == typeof o ? "data" : r.expr(i.dataTextField, "data"), s += "#"), "function" != typeof s && (s = r.template(s)), n.optionLabelTemplate = s, n.hasOptionLabel() || (n.optionLabel = e('<div class="k-list-optionlabel"></div>')
                            .prependTo(n.list)), n.optionLabel.html(s(o))
                                .off()
                                .click(T(n._click, n))
                                .on(y, n._toggleHover), n.angular("compile", function() { return { elements: n.optionLabel, data: [{ dataItem: n._optionLabelDataItem() }] } }), t) : (n.optionLabel.off()
                                    .remove(), n.optionLabel = e(), t)
                },
                _optionLabelText: function() {
                    var e = this.options.optionLabel;
                    return "string" == typeof e ? e : this._text(e)
                },
                _optionLabelDataItem: function() {
                    var t = this,
                        n = t.options.optionLabel;
                    return t.hasOptionLabel() ? e.isPlainObject(n) ? new u(n) : t._assignInstance(t._optionLabelText(), "") : null
                },
                _buildOptions: function(e) {
                    var n, i, o, r = this;
                    r._isSelect && (n = r.listView.value()[0], i = r._optionLabelDataItem(), o = i && r._value(i), n !== t && null !== n || (n = ""), i && (o !== t && null !== o || (o = ""), i = '<option value="' + o + '">' + r._text(i) + "</option>"), r._options(e, i, n), n !== a.unifyType(r._accessor(), typeof n) && (r._customOption = null, r._custom(n)))
                },
                _listBound: function() {
                    var e, t = this,
                        n = t._initialIndex,
                        i = t._state === x,
                        o = t.dataSource.flatView();
                    t._presetValue = !1, t._renderFooter(), t._renderNoData(), t._toggleNoData(!o.length), t._resizePopup(!0), t.popup.position(), t._buildOptions(o), t._makeUnselectable(), i || (t._open && t.toggle(t._allowOpening()), t._open = !1, t._fetch || (o.length ? (!t.listView.value()
                        .length && n > -1 && null !== n && t.select(n), t._initialIndex = null, e = t.listView.selectedDataItems()[0], e && t.text() !== t._text(e) && t._selectValue(e)) : t._textAccessor() !== t._optionLabelText() && (t.listView.value(""), t._selectValue(null), t._oldIndex = t.selectedIndex))), t._hideBusy(), t.trigger("dataBound")
                },
                _listChange: function() { this._selectValue(this.listView.selectedDataItems()[0]), (this._presetValue || this._old && this._oldIndex === -1) && (this._oldIndex = this.selectedIndex) },
                _filterPaste: function() { this._search() },
                _focusHandler: function() { this.wrapper.focus() },
                _focusinHandler: function() { this._inputWrapper.addClass(v), this._prevent = !1 },
                _focusoutHandler: function() {
                    var e = this,
                        t = window.self !== window.top;
                    e._prevent || (clearTimeout(e._typingTimeout), c.mobileOS.ios && t ? e._change() : e._blur(), e._inputWrapper.removeClass(v), e._prevent = !0, e._open = !1, e.element.blur())
                },
                _wrapperMousedown: function() { this._prevent = !!this.filterInput },
                _wrapperClick: function(e) { e.preventDefault(), this.popup.unbind("activate", this._focusInputHandler), this._focused = this.wrapper, this._toggle() },
                _editable: function(e) {
                    var t = this,
                        n = t.element,
                        i = e.disable,
                        o = e.readonly,
                        r = t.wrapper.add(t.filterInput)
                            .off(f),
                        s = t._inputWrapper.off(y);
                    o || i ? i ? (r.removeAttr(k), s.addClass(b)
                        .removeClass(_)) : (s.addClass(_)
                            .removeClass(b), r.on("focusin" + f, T(t._focusinHandler, t))
                                .on("focusout" + f, T(t._focusoutHandler, t))) : (n.removeAttr(p)
                                    .removeAttr(m), s.addClass(_)
                                        .removeClass(b)
                                        .on(y, t._toggleHover), r.attr(k, r.data(k))
                                            .attr(w, !1)
                                            .on("keydown" + f, T(t._keydown, t))
                                            .on("focusin" + f, T(t._focusinHandler, t))
                                            .on("focusout" + f, T(t._focusoutHandler, t))
                                            .on("mousedown" + f, T(t._wrapperMousedown, t))
                                            .on("paste" + f, T(t._filterPaste, t)), t.wrapper.on("click" + f, T(t._wrapperClick, t)), t.filterInput || r.on("keypress" + f, T(t._keypress, t))), n.attr(p, i)
                                                .attr(m, o), r.attr(w, i)
                },
                _keydown: function(e) {
                    var n, i, o, r = this,
                        s = e.keyCode,
                        a = e.altKey,
                        l = r.popup.visible();
                    if (r.filterInput && (n = r.filterInput[0] === d()), s === h.LEFT ? (s = h.UP, i = !0) : s === h.RIGHT && (s = h.DOWN, i = !0), !i || !n) {
                        if (e.keyCode = s, (a && s === h.UP || s === h.ESC) && r._focusElement(r.wrapper), r._state === x && s === h.ESC && r._clearFilter(), s === h.ENTER && r._typingTimeout && r.filterInput && l) return e.preventDefault(), t;
                        if (i = r._move(e), !i) {
                            if ((!l || !r.filterInput) && (o = r._focus(), s === h.HOME ? (i = !0, r._firstItem()) : s === h.END && (i = !0, r._lastItem()), i)) {
                                if (r.trigger("select", { dataItem: r._getElementDataItem(r._focus()), item: r._focus() })) return r._focus(o), t;
                                r._select(r._focus(), !0)
                                    .done(function() { l || r._blur() }), e.preventDefault()
                            }
                            a || i || !r.filterInput || r._search()
                        }
                    }
                },
                _matchText: function(e, n) {
                    var i = this.options.ignoreCase;
                    return e !== t && null !== e && (e += "", i && (e = e.toLowerCase()), 0 === e.indexOf(n))
                },
                _shuffleData: function(e, t) {
                    var n = this._optionLabelDataItem();
                    return n && (e = [n].concat(e)), e.slice(t)
                        .concat(e.slice(0, t))
                },
                _selectNext: function() {
                    var e, t, n, r = this,
                        s = r.dataSource.flatView(),
                        a = s.length + (r.hasOptionLabel() ? 1 : 0),
                        l = o(r._word, r._last),
                        c = r.selectedIndex;
                    for (c === -1 ? c = 0 : (c += l ? 1 : 0, c = i(c, a)), s = s.toJSON ? s.toJSON() : s.slice(), s = r._shuffleData(s, c), n = 0; n < a && (t = r._text(s[n]), !l || !r._matchText(t, r._last)) && !r._matchText(t, r._word); n++) ;
                    n !== a && (e = r._focus(), r._select(i(c + n, a))
                        .done(function() {
                            var t = function() { r.popup.visible() || r._change() };
                            r.trigger("select", { dataItem: r._getElementDataItem(r._focus()), item: r._focus() }) ? r._select(e)
                                .done(t) : t()
                        }))
                },
                _keypress: function(e) {
                    var t, n = this;
                    0 !== e.which && e.keyCode !== r.keys.ENTER && (t = String.fromCharCode(e.charCode || e.keyCode), n.options.ignoreCase && (t = t.toLowerCase()), " " === t && e.preventDefault(), n._word += t, n._last = t, n._search())
                },
                _popupOpen: function() {
                    var e = this.popup;
                    e.wrapper = r.wrap(e.element), e.element.closest(".km-root")[0] && (e.wrapper.addClass("km-popup km-widget"), this.wrapper.addClass("km-widget"))
                },
                _popup: function() { l.fn._popup.call(this), this.popup.one("open", T(this._popupOpen, this)) },
                _getElementDataItem: function(e) { return e && e[0] ? e[0] === this.optionLabel[0] ? this._optionLabelDataItem() : this.listView.dataItemByIndex(this.listView.getElementIndex(e)) : null },
                _click: function(n) {
                    var i = this,
                        o = n.item || e(n.currentTarget);
                    return n.preventDefault(), i.trigger("select", { dataItem: i._getElementDataItem(o), item: o }) ? (i.close(), t) : (i._userTriggered = !0, i._select(o)
                        .done(function() { i._focusElement(i.wrapper), i._blur() }), t)
                },
                _focusElement: function(e) {
                    var t = d(),
                        n = this.wrapper,
                        i = this.filterInput,
                        o = e === i ? n : i,
                        r = c.mobileOS && (c.touch || c.MSPointers || c.pointers);
                    i && i[0] === e[0] && r || i && o[0] === t && (this._prevent = !0, this._focused = e.focus());
                },
                _searchByWord: function(e) {
                    var t, n;
                    e && (t = this, n = t.options.ignoreCase, n && (e = e.toLowerCase()), t._select(function(n) { return t._matchText(t._text(n), e) }))
                },
                _inputValue: function() { return this.text() },
                _search: function() {
                    var e = this,
                        n = e.dataSource;
                    if (clearTimeout(e._typingTimeout), e._isFilterEnabled())
                        e._typingTimeout = setTimeout(function() {
                            var t = e.filterInput.val();
                            e._prev !== t && (e._prev = t, e.search(t), e._resizeFilterInput()), e._typingTimeout = null
                        }, e.options.delay);
                    else {
                        if (e._typingTimeout = setTimeout(function() { e._word = "" }, e.options.delay), !e.listView.bound())
                            return n.fetch()
                                .done(function() { e._selectNext() }), t;
                        e._selectNext()
                    }
                },
                _get: function(t) {
                    var n, i, o, r = "function" == typeof t,
                        s = r ? e() : e(t);
                    if (this.hasOptionLabel() && ("number" == typeof t ? t > -1 && (t -= 1) : s.hasClass("k-list-optionlabel") && (t = -1)), r) {
                        for (n = this.dataSource.flatView(), o = 0; o < n.length; o++)
                            if (t(n[o])) {
                                t = o, i = !0;
                                break
                            }
                        i || (t = -1)
                    }
                    return t
                },
                _firstItem: function() { this.hasOptionLabel() ? this._focus(this.optionLabel) : this.listView.focusFirst() },
                _lastItem: function() { this._resetOptionLabel(), this.listView.focusLast() },
                _nextItem: function() { this.optionLabel.hasClass("k-state-focused") ? (this._resetOptionLabel(), this.listView.focusFirst()) : this.listView.focusNext() },
                _prevItem: function() { this.optionLabel.hasClass("k-state-focused") || (this.listView.focusPrev(), this.listView.focus() || this._focus(this.optionLabel)) },
                _focusItem: function() {
                    var e = this.options,
                        n = this.listView,
                        i = n.focus(),
                        o = n.select();
                    o = o[o.length - 1], o === t && e.highlightFirst && !i && (o = 0), o !== t ? n.focus(o) : !e.optionLabel || e.virtual && "dataItem" === e.virtual.mapValueTo ? n.scrollToIndex(0) : (this._focus(this.optionLabel), this._select(this.optionLabel))
                },
                _resetOptionLabel: function(e) {
                    this.optionLabel.removeClass("k-state-focused" + (e || ""))
                        .removeAttr("id")
                },
                _focus: function(e) {
                    var n = this.listView,
                        i = this.optionLabel;
                    return e === t ? (e = n.focus(), !e && i.hasClass("k-state-focused") && (e = i), e) : (this._resetOptionLabel(), e = this._get(e), n.focus(e), e === -1 && (i.addClass("k-state-focused")
                        .attr("id", n._optionID), this._focused.add(this.filterInput)
                            .removeAttr("aria-activedescendant")
                            .attr("aria-activedescendant", n._optionID)), t)
                },
                _select: function(e, t) {
                    var n = this;
                    return e = n._get(e), n.listView.select(e)
                        .done(function() { t || n._state !== x || (n._state = C), e === -1 && n._selectValue(null) })
                },
                _selectValue: function(e) {
                    var n = this,
                        i = n.options.optionLabel,
                        o = n.listView.select(),
                        r = "",
                        s = "";
                    o = o[o.length - 1], o === t && (o = -1), this._resetOptionLabel(" k-state-selected"), e || 0 === e ? (s = e, r = n._dataValue(e), i && (o += 1)) : i && (n._focus(n.optionLabel.addClass("k-state-selected")), s = n._optionLabelText(), r = "string" == typeof i ? "" : n._value(i), o = 0), n.selectedIndex = o, null === r && (r = ""), n._textAccessor(s), n._accessor(r, o), n._triggerCascade()
                },
                _mobile: function() {
                    var e = this,
                        t = e.popup,
                        n = c.mobileOS,
                        i = t.element.parents(".km-root")
                            .eq(0);
                    i.length && n && (t.options.animation.open.effects = n.android || n.meego ? "fadeIn" : n.ios || n.wp ? "slideIn:up" : t.options.animation.open.effects)
                },
                _filterHeader: function() {
                    var t;
                    this.filterInput && (this.filterInput.off(f)
                        .parent()
                        .remove(), this.filterInput = null), this._isFilterEnabled() && (t = '<span class="k-icon k-i-zoom"></span>', this.filterInput = e('<input class="k-textbox"/>')
                            .attr({ placeholder: this.element.attr("placeholder"), title: this.element.attr("title"), role: "listbox", "aria-haspopup": !0, "aria-expanded": !1 }), this.list.prepend(e('<span class="k-list-filter" />')
                                .append(this.filterInput.add(t))))
                },
                _span: function() {
                    var t, n = this,
                        i = n.wrapper,
                        o = "span.k-input";
                    t = i.find(o), t[0] || (i.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>')
                        .append(n.element), t = i.find(o)), n.span = t, n._inputWrapper = e(i[0].firstChild), n._arrow = i.find(".k-select"), n._arrowIcon = n._arrow.find(".k-icon")
                },
                _wrapper: function() {
                    var e, t = this,
                        n = t.element,
                        i = n[0];
                    e = n.parent(), e.is("span.k-widget") || (e = n.wrap("<span />")
                        .parent(), e[0].style.cssText = i.style.cssText, e[0].title = i.title), t._focused = t.wrapper = e.addClass("k-widget k-dropdown k-header")
                            .addClass(i.className)
                            .css("display", "")
                            .attr({ accesskey: n.attr("accesskey"), unselectable: "on", role: "listbox", "aria-haspopup": !0, "aria-expanded": !1 }), n.hide()
                                .removeAttr("accesskey")
                },
                _clearSelection: function(e) { this.select(e.value() ? 0 : -1) },
                _inputTemplate: function() {
                    var t = this,
                        n = t.options.valueTemplate;
                    if (n = n ? r.template(n) : e.proxy(r.template("#:this._text(data)#", { useWithBlock: !1 }), t), t.valueTemplate = n, t.hasOptionLabel() && !t.options.optionLabelTemplate)
                        try {
                            t.valueTemplate(t._optionLabelDataItem())
                        } catch(i) {
                            throw Error(S)
                        }
                },
                _textAccessor: function(n) {
                    var i, o = null,
                        r = this.valueTemplate,
                        r = this.valueTemplate,
                        s = this._optionLabelText(),
                        a = this.span;
                    if (n === t) return a.text();
                    e.isPlainObject(n) || n instanceof u ? o = n : s && s === n && (o = this.options.optionLabel), o || (o = this._assignInstance(n, this._accessor())), this.hasOptionLabel() && (o !== s && this._text(o) !== s || (r = this.optionLabelTemplate, "string" != typeof this.options.optionLabel || this.options.optionLabelTemplate || (o = s))), i = function() { return { elements: a.get(), data: [{ dataItem: o }] } }, this.angular("cleanup", i);
                    try {
                        a.html(r(o))
                    } catch(l) {
                        a.html("")
                    }
                    this.angular("compile", i)
                },
                _preselect: function(e, t) { e || t || (t = this._optionLabelText()), this._accessor(e), this._textAccessor(t), this._old = this._accessor(), this._oldIndex = this.selectedIndex, this.listView.setValue(e), this._initialIndex = null, this._presetValue = !0 },
                _assignInstance: function(e, t) {
                    var i = this.options.dataTextField,
                        o = {};
                    return i ? (n(o, i.split("."), e), n(o, this.options.dataValueField.split("."), t), o = new u(o)) : o = e, o
                }
            });
        s.plugin(D)
    }(window.kendo.jQuery), window.kendo
}, "function" == typeof define && define.amd ? define : function(e, t, n) {
    (n || t)()
});
!function(e,define){define(["./kendo.list.min","./kendo.mobile.scroller.min"],e)}(function(){return function(e,t){function n(e,t,n){for(var i,r=0,o=t.length-1;o>r;++r)i=t[r],i in e||(e[i]={}),e=e[i];e[t[o]]=n}var i=window.kendo,r=i.ui,o=r.Select,a=i.support.mobileOS,s=".kendoDropDownList",l="disabled",u="readonly",c="change",d="k-state-focused",f="k-state-default",h="k-state-disabled",p="aria-disabled",g="aria-readonly",m="k-state-selected",v="mouseenter"+s+" mouseleave"+s,_="tabindex",y=e.proxy,b=o.extend({init:function(n,r){var a,l,u,c=this,d=r&&r.index;c.ns=s,r=e.isArray(r)?{dataSource:r}:r,o.fn.init.call(c,n,r),c._focusHandler=function(){c.wrapper.focus()},r=c.options,n=c.element.on("focus"+s,c._focusHandler),this._inputTemplate(),c._reset(),c._word="",c._wrapper(),c._tabindex(),c.wrapper.data(_,c.wrapper.attr(_)),c._aria(),c._span(),c._popup(),c._mobile(),c._dataSource(),c._ignoreCase(),c._enable(),c._oldIndex=c.selectedIndex=-1,c._cascade(),d!==t&&(r.index=d),r.autoBind?c.dataSource.fetch():-1===c.selectedIndex&&(u=r.text||"",u||(a=r.optionLabel,l=a&&0===r.index,c._isSelect?u=l?a:n.children(":selected").text():!n[0].value&&l&&(u=a)),c._textAccessor(u)),i.notify(c)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",valueTemplate:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{}},events:["open","close",c,"select","dataBinding","dataBound","cascade"],setOptions:function(e){o.fn.setOptions.call(this,e),this._template(),this._inputTemplate(),this._accessors(),this._aria()},destroy:function(){var e=this;e.wrapper.off(s),e.element.off(s),e._inputWrapper.off(s),o.fn.destroy.call(e)},open:function(){var e=this;e.ul[0].firstChild?(e.popup.open(),e._scroll(e._current)):(e._open=!0,e._request||e.dataSource.fetch())},toggle:function(e){this._toggle(e,!0)},refresh:function(){var e,t=this,n=t._data(),r=n.length,o=t.options.optionLabel,a=t.element[0];t.trigger("dataBinding"),t._current&&t.current(null),t.ul[0].innerHTML=i.render(t.template,n),t._height(r),t.popup.visible()&&t.popup._position(),t._isSelect&&(e=a.selectedIndex,o&&r&&(o='<option value="">'+t._optionLabelText(o)+"</option>"),t._options(n,o),a.selectedIndex=-1===e?0:e),t._open&&(t._open=!1,t.toggle(!!r)),t._hideBusy(),t._makeUnselectable(),t._fetch||(r?t._selectItem():t._textAccessor()!==o&&(t.element.val(""),t._textAccessor(""))),t._bound=!!r,t.trigger("dataBound")},search:function(e){if(e){var n=this,i=n.options.ignoreCase;i&&(e=e.toLowerCase()),n._select(function(r){var o=n._text(r);return o!==t?(o+="",i&&(o=o.toLowerCase()),0===o.indexOf(e)):t})}},text:function(e){var n,i,r=this,o=r.options.ignoreCase;return e=null===e?"":e,e===t?r._textAccessor():("string"==typeof e&&(i=o?e.toLowerCase():e,n=r._select(function(e){return e=r._text(e),o&&(e=(e+"").toLowerCase()),e===i}),n&&(e=n)),r._textAccessor(e),t)},value:function(e){var n,i,r=this;return e===t?r._accessor():(null!==e&&(e=""+e),r._selectedValue=e,i=e||r.options.optionLabel&&!r.element[0].disabled&&""===e,i&&r._fetchItems(e)||(n=r._index(e),r.select(n>-1?n:0)),t)},_editable:function(e){var t=this,n=t.element,r=e.disable,o=e.readonly,a=t.wrapper.off(s),c=t._inputWrapper.off(v),m=function(){c.addClass(d),t._blured=!1},b=function(){if(!t._blured){t._triggerCascade();var e=window.self!==window.top;i.support.mobileOS.ios&&e?t._change():t._blur(),c.removeClass(d),t._blured=!0,n.blur()}};o||r?(r?(a.removeAttr(_),c.addClass(h).removeClass(f)):(c.addClass(f).removeClass(h),a.on("focusin"+s,m).on("focusout"+s,b)),n.attr(l,r).attr(u,o),a.attr(p,r).attr(g,o)):(n.removeAttr(l).removeAttr(u),c.addClass(f).removeClass(h).on(v,t._toggleHover),a.attr(_,a.data(_)).attr(p,!1).attr(g,!1).on("click"+s,function(e){t._blured=!1,e.preventDefault(),t._toggle()}).on("keydown"+s,y(t._keydown,t)).on("keypress"+s,y(t._keypress,t)).on("focusin"+s,m).on("focusout"+s,b))},_accept:function(e){this._focus(e)},_optionLabelText:function(){var e=this.options,t=e.dataTextField,n=e.optionLabel;return n&&t&&"object"==typeof n?this._text(n):n},_data:function(){var e=this,t=e.options,r=t.optionLabel,o=t.dataTextField,a=t.dataValueField,s=e.dataSource.view(),l=s.length,u=r,c=0;if(r&&l){for("object"==typeof r?u=r:o&&(u={},o=o.split("."),a=a.split("."),n(u,a,""),n(u,o,r)),u=new i.data.ObservableArray([u]);l>c;c++)u.push(s[c]);s=u}return s},_selectItem:function(){o.fn._selectItem.call(this),this.current()||this.select(0)},_keydown:function(e){var t=this,n=e.keyCode,r=i.keys,o=t.ul[0];n===r.LEFT?n=r.UP:n===r.RIGHT&&(n=r.DOWN),e.keyCode=n,t._move(e),n===r.HOME?(e.preventDefault(),t._select(o.firstChild)):n===r.END&&(e.preventDefault(),t._select(o.lastChild))},_selectNext:function(e,n){for(var i,r=this,o=n,a=r._data(),s=a.length,l=r.options.ignoreCase,u=function(n,i){return n+="",l&&(n=n.toLowerCase()),0===n.indexOf(e)?(r._select(i),r._triggerEvents(),!0):t};s>n;n++)if(i=r._text(a[n]),i&&u(i,n))return!0;if(o>0&&s>o)for(n=0;o>=n;n++)if(i=r._text(a[n]),i&&u(i,n))return!0;return!1},_keypress:function(e){if(0!==e.which&&e.keyCode!==i.keys.ENTER){var t=this,n=String.fromCharCode(e.charCode||e.keyCode),r=t.selectedIndex,o=t._word;t.options.ignoreCase&&(n=n.toLowerCase())," "===n&&e.preventDefault(),t._last===n&&1>=o.length&&r>-1&&(o||(o=n),t._selectNext(o,r+1))||(t._word=o+n,t._last=n,t._search())}},_popup:function(){o.fn._popup.call(this),this.popup.one("open",y(function(){var e=this.popup;e.wrapper=i.wrap(e.element),e.element.closest(".km-root")[0]&&(e.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},this))},_search:function(){var e=this,n=e.dataSource,i=e.selectedIndex,r=e._word;return clearTimeout(e._typing),e._typing=setTimeout(function(){e._word=""},e.options.delay),-1===i&&(i=0),e.ul[0].firstChild?(e._selectNext(r,i),e._triggerEvents(),t):(n.one(c,function(){n.data()[0]&&i>-1&&e._selectNext(r,i)}).fetch(),t)},_select:function(e){var n,i,o=this,a=o._current,s=null;return e=o._get(e),e&&e[0]&&!e.hasClass(m)&&(a&&a.removeClass(m),i=r.List.inArray(e[0],o.ul[0]),i>-1&&(s=o._data()[i],n=o._value(s),o.selectedIndex=i,o._textAccessor(s),o._accessor(n!==t?n:o._text(s),i),o._selectedValue=o._accessor(),o.current(e.addClass(m)),o._optionID&&o._current.attr("aria-selected",!0))),s},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var e=this,t=e.popup,n=t.element.parents(".km-root").eq(0);n.length&&a&&(t.options.animation.open.effects=a.android||a.meego?"fadeIn":a.ios||a.wp?"slideIn:up":t.options.animation.open.effects)},_span:function(){var t,n=this,i=n.wrapper,r="span.k-input";t=i.find(r),t[0]||(i.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=i.find(r)),n.span=t,n._inputWrapper=e(i[0].firstChild),n._arrow=i.find(".k-icon").mousedown(function(e){e.preventDefault()})},_wrapper:function(){var e,t=this,n=t.element,i=n[0];e=n.parent(),e.is("span.k-widget")||(e=n.wrap("<span />").parent(),e[0].style.cssText=i.style.cssText),n.hide(),t._focused=t.wrapper=e.addClass("k-widget k-dropdown k-header").addClass(i.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var e=this,n=e.options.optionLabel;return e.options.value="",e._selectedValue="",e.dataSource.view()[0]&&(n||e._userTriggered)?(e.select(0),t):(e.selectedIndex=-1,e.element.val(""),e._textAccessor(e.options.optionLabel),t)},_inputTemplate:function(){var t=this,n=t.options.valueTemplate;n=n?i.template(n):e.proxy(i.template("#:this._text(data)#",{useWithBlock:!1}),t),t.valueTemplate=n},_textAccessor:function(r){var o=this.dataItem(),a=this.options,s=this.span;return r===t?s.text():(e.isPlainObject(r)||r instanceof i.data.ObservableObject?o=r:o&&this._text(o)===r||(a.dataTextField?(o={},n(o,a.dataTextField.split("."),r),n(o,a.dataValueField.split("."),this._accessor())):o=r),s.html(this.valueTemplate(o)),t)}});r.plugin(b)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()});